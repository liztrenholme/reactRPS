(this.webpackJsonpreactrps=this.webpackJsonpreactrps||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/rock.84b42fe0.png"},function(e,t,a){e.exports=a.p+"static/media/paper.294861f4.png"},function(e,t,a){e.exports=a.p+"static/media/scissors.bff85220.png"},function(e){e.exports=JSON.parse('{"name":"reactrps","version":"1.0.1","private":true,"homepage":"https://liztrenholme.github.io/reactRPS","dependencies":{"@babel/core":"7.7.4","@svgr/webpack":"4.3.3","@typescript-eslint/eslint-plugin":"^2.8.0","@typescript-eslint/parser":"^2.8.0","babel-eslint":"10.0.3","babel-jest":"^24.9.0","babel-loader":"8.0.6","babel-plugin-named-asset-import":"^0.3.5","babel-preset-react-app":"^9.1.0","camelcase":"^5.3.1","case-sensitive-paths-webpack-plugin":"2.2.0","css-loader":"3.2.0","dotenv":"8.2.0","dotenv-expand":"5.1.0","eslint":"^6.6.0","eslint-config-react-app":"^5.1.0","eslint-loader":"3.0.2","eslint-plugin-flowtype":"3.13.0","eslint-plugin-import":"2.18.2","eslint-plugin-jsx-a11y":"6.2.3","eslint-plugin-react":"7.16.0","eslint-plugin-react-hooks":"^1.6.1","file-loader":"4.3.0","firebase":"^8.1.1","fs-extra":"^8.1.0","gh-pages":"^2.1.1","html-webpack-plugin":"4.0.0-beta.5","identity-obj-proxy":"3.0.0","jest":"24.9.0","jest-environment-jsdom-fourteen":"0.1.0","jest-resolve":"24.9.0","jest-watch-typeahead":"0.4.2","mini-css-extract-plugin":"0.8.0","optimize-css-assets-webpack-plugin":"5.0.3","pnp-webpack-plugin":"1.5.0","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"8.0.1","postcss-preset-env":"6.7.0","postcss-safe-parser":"4.0.1","react":"^16.11.0","react-app-polyfill":"^1.0.5","react-dev-utils":"^10.0.0","react-dom":"^16.11.0","react-scripts":"^4.0.0","resolve":"1.12.2","resolve-url-loader":"^3.1.2","sass-loader":"8.0.0","semver":"6.3.0","style-loader":"1.0.0","terser-webpack-plugin":"^4.1.0","ts-pnp":"1.1.5","url-loader":"2.3.0","webpack":"4.41.2","webpack-dev-server":"^3.11.0","webpack-manifest-plugin":"2.2.0","workbox-webpack-plugin":"4.3.1"},"scripts":{"start":"node scripts/start.js","build":"node scripts/build.js","test":"node scripts/test.js","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"chai":"^4.2.0","chai-spies":"^1.0.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.4","react-test-renderer":"^16.12.0"},"jest":{"roots":["<rootDir>/src"],"collectCoverageFrom":["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],"setupFiles":["react-app-polyfill/jsdom"],"setupFilesAfterEnv":[],"testMatch":["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],"testEnvironment":"jest-environment-jsdom-fourteen","transform":{"^.+\\\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},"transformIgnorePatterns":["[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$","^.+\\\\.module\\\\.(css|sass|scss)$"],"modulePaths":[],"moduleNameMapper":{"^react-native$":"react-native-web","^.+\\\\.module\\\\.(css|sass|scss)$":"identity-obj-proxy"},"moduleFileExtensions":["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],"watchPlugins":["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},"babel":{"presets":["react-app"]}}')},function(e,t,a){e.exports=a(39)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),r=a(16),c=a.n(r),o=(a(26),a(27),a(8)),l=a(9),i=a(11),p=a(10),u=(a(28),a(29),a(30),a(17)),m=a.n(u),d=function(e){var t=e.handleSelect,a=e.display,n=e.player,r=e.choice,c="rock";return a?s.a.createElement("div",null,s.a.createElement("img",{src:m.a,alt:c,onClick:function(){return t(c)},className:"player".concat(n," ").concat(r,"-").concat(n," rock-sketch")})):null},h=(a(31),a(18)),f=a.n(h),b=function(e){var t=e.handleSelect,a=e.display,n=e.player,r=e.choice,c="paper";return a?s.a.createElement("div",null,s.a.createElement("img",{src:f.a,alt:c,onClick:function(){return t(c)},className:"player".concat(n," ").concat(r,"-").concat(n," paper-sketch")})):null},y=(a(32),a(19)),v=a.n(y),g=function(e){var t=e.handleSelect,a=e.display,n=e.player,r=e.choice,c="scissors";return a?s.a.createElement("div",null,s.a.createElement("img",{src:v.a,alt:c,onClick:function(){return t(c)},className:"player".concat(n," ").concat(r,"-").concat(n," sketch")})):null},E=function(e){Object(i.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.isTurn,n=e.handleSelect,r=e.choice,c=e.winner,o=e.opponentChoice;return s.a.createElement("div",{className:"display",style:a?{border:"3px",borderColor:"blue",borderStyle:"solid"}:{}},s.a.createElement(d,{display:!c&&a||c&&"rock"===r||c&&"rock"===o,player:t,handleSelect:n,choice:r}),s.a.createElement(b,{display:!c&&a||c&&"paper"===r||c&&"paper"===o,player:t,handleSelect:n,choice:r}),s.a.createElement(g,{display:!c&&a||c&&"scissors"===r||c&&"scissors"===o,player:t,handleSelect:n,choice:r}))}}]),a}(n.Component),w=(a(33),function(e){Object(i.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.handleTextChange;return s.a.createElement("div",{className:"input"},s.a.createElement("input",{value:t,onChange:a,placeholder:"Enter your name to play!"}))}}]),a}(n.Component)),j=a(20),k=a(7),x={apiKey:"AIzaSyCmK6VgVTtzZ5ZDPOkGssOJLgMrK1mAdjI",authDomain:"rock-paper-scissors-5c265.firebaseapp.com",databaseURL:"https://rock-paper-scissors-5c265.firebaseio.com",projectId:"rock-paper-scissors-5c265",storageBucket:"rock-paper-scissors-5c265.appspot.com",messagingSenderId:"146335845104"},S=(a(38),function(e){Object(i.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.messagesEndRef=s.a.createRef(),e.scrollToBottom=function(){e.messagesEndRef.current.scrollTop=e.messagesEndRef.current.scrollHeight},e.database=e.props.firebase.database(),e.chat=e.database.ref("/chat"),e.chatDisc=e.database.ref("/chat/"+Date.now()),e.handleChatDisconnect=function(){e.chatDisc.onDisconnect().set({name:e.props.name,time:e.props.firebase.database.ServerValue.TIMESTAMP,message:"has disconnected.",idNum:e.props.player})},e.handleChatTextChange=function(t){return e.setState({input:t.target.value})},e.handleSendChat=function(){e.props.name&&e.state.input.length&&(e.chat.push({name:e.props.name,time:e.props.firebase.database.ServerValue.TIMESTAMP,message:e.state.input,idNum:e.props.player}),e.setState({input:""}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this.props.chatData;return s.a.createElement("div",{className:"chat-box"},s.a.createElement("div",{className:"message-display-box",ref:this.messagesEndRef},e&&Object.keys(e)?Object.keys(e).sort((function(t){return e[t].time})).filter((function(t){return"has disconnected."!==e[t].message})).map((function(t){return 1===e[t].idNum?s.a.createElement("div",{className:"right-bubble",key:t},s.a.createElement("p",{className:"message-bubble message-bubble-right"},e[t].message)," ",s.a.createElement("span",null,e[t].name)):s.a.createElement("div",{className:"left-bubble",key:t},s.a.createElement("span",null,e[t].name)," ",s.a.createElement("p",{className:"message-bubble message-bubble-left"},e[t].message))})):null),this.props.name?s.a.createElement("input",{onChange:this.handleChatTextChange,value:this.state.input}):s.a.createElement("p",{style:{color:"darkred"}},"Enter your name above to start chatting."),this.props.name?s.a.createElement("button",{className:"saveBtn",onClick:this.handleSendChat},"Send"):null)}}]),a}(n.Component));window.config=x,window&&window.config&&k.a.initializeApp(window.config);var C=function(e){Object(i.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",player:null,error:"",showInstructions:!1,nameChosen:!1,choice:"",currentPlayerTurn:null,currentPlayers:0,chatData:{},playerOneExists:!1,playerTwoExists:!1,winner:null,opponentChoice:null},e.getChatData=function(){k.a.database().ref("/chat").on("value",(function(t){var a=t.val();e.setState({chatData:a})}))},e.playAgain=function(){e.setState({choice:"",currentPlayerTurn:null,currentPlayers:0,chatData:{},playerOneExists:!1,playerTwoExists:!1,winner:null,opponentChoice:null}),e.gameStart()},e.getGameData=function(){var t,a,n,s,r=k.a.database().ref("/game/players"),c=k.a.database().ref("turn");r.on("value",(function(n){t=n.child("1").exists(),a=n.child("2").exists(),e.setState({playerOneExists:t,playerTwoExists:a})})),c.on("value",(function(t){n=t.val(),e.setState({currentPlayerTurn:n})})),k.a.database().ref("players").on("value",(function(t){s=t.numChildren(),e.setState({currentPlayers:s})}))},e.gameStart=function(){var t,a,n=k.a.database().ref("turn"),s=k.a.database().ref("/chat/"+Date.now()),r=k.a.database().ref("players"),c=e.state,o=c.winner,l=c.opponentChoice,i=c.player;if(r.on("value",(function(n){var s=n.val();if(console.log("what is coming back for gamedata??",s),t=n.child(1).exists(),a=n.child(2).exists(),s&&s[1]&&s[1].choice&&s[2]&&s[2].choice){var r=s[1].choice,c=s[2].choice;console.log("CHOICES",r,c),"paper"===r&&"paper"===c&&(o="tie"),"rock"===r&&"rock"===c&&(o="tie"),"scissors"===r&&"scissors"===c&&(o="tie"),"paper"===r&&"rock"===c&&(o=s[1].name),"paper"===r&&"scissors"===c&&(o=s[2].name),"rock"===r&&"paper"===c&&(o=s[2].name),"rock"===r&&"scissors"===c&&(o=s[1].name),"scissors"===r&&"rock"===c&&(o=s[2].name),"scissors"===r&&"paper"===c&&(o=s[1].name),1===i?l=s[2].choice:s[1].choice}e.setState({playerOneExists:t,playerTwoExists:a,winner:o,opponentChoice:l})})),console.log("CURRENT PLAYERS",e.state.currentPlayers,t,a),e.state.currentPlayers<2){var p=e.state.player;t&&!o?(p=2,n.set(1),e.setState({currentTurn:1})):p=1;var u=k.a.database().ref("/players/"+p);u.set({name:e.state.name,wins:0,losses:0,choice:null}),u.onDisconnect().remove(),n.onDisconnect().remove(),s.onDisconnect().set({name:e.state.name,time:k.a.database.ServerValue.TIMESTAMP,message:"has disconnected.",idNum:0}),e.setState({player:p})}else o?e.setState({error:"The winner is ".concat(o,"!")}):e.setState({error:"Sorry, Game Full! Try Again Later!"})},e.handleShowMobileInstructions=function(){e.state.showInstructions?e.setState({showInstructions:!1}):e.setState({showInstructions:!0})},e.handleTextChange=function(t){var a=t.target.value;e.setState({name:a})},e.saveName=function(){e.setState({nameChosen:!0}),e.gameStart()},e.handleSelectChoice=function(t){console.log("choice is",t),e.setState({choice:t});var a=e.state,n=a.name,s=a.player,r=k.a.database().ref("/players/"+s),c=k.a.database().ref("turn");r.set({name:n,wins:0,losses:0,choice:t}),1===e.state.currentPlayerTurn?c.set(2):c.set(1),1===e.state.currentPlayerTurn?e.setState({currentPlayerTurn:2}):e.setState({currentPlayerTurn:1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getChatData(),this.getGameData()}},{key:"render",value:function(){var e=this.state,t=e.winner,a=e.name,n=e.error,r=e.currentPlayerTurn,c=e.nameChosen,o=e.choice,l=e.player,i=e.chatData,p=e.playerOneExists,u=e.playerTwoExists,m=e.currentPlayers,d=e.opponentChoice;return console.log("state:::",this.state),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"main-container"},s.a.createElement("h1",{className:"header"},"Rock, Paper, Scissors"),s.a.createElement("div",{className:"inputWithSave"},c&&l?s.a.createElement("h1",{className:"name-display"},"Hi ",a,", you are player ",l,"!  ",m<2?"Waiting for player two to join...":null," "):s.a.createElement("div",{className:"inputWithSave"},s.a.createElement(w,{name:a,handleTextChange:this.handleTextChange}),a?s.a.createElement("button",{className:"saveBtn",onClick:this.saveName},"Add my name!"):null)),!t&&p&&u?s.a.createElement("div",null,r===l?s.a.createElement("h3",{style:{color:"darkblue"}},"Your turn!"):s.a.createElement("h3",{style:{color:"darkblue"}},"Waiting for opponent...")):null,s.a.createElement("div",null,s.a.createElement("h3",{style:{color:"darkRed"}},n)),t?s.a.createElement("div",null,s.a.createElement("h1",{style:{color:"darkRed"}},"The winner is ",t,"!")):null,!t&&p&&u?s.a.createElement("div",{className:"gameboard"},s.a.createElement("div",{className:"left-side"},s.a.createElement(E,{winner:t,player:1,isTurn:!t&&1===r&&1===l,handleSelect:this.handleSelectChoice,choice:o,opponentChoice:1===l&&d?d:null})),s.a.createElement("div",{className:"right-side"},s.a.createElement(E,{winner:t,player:2,isTurn:!t&&2===r&&2===l,handleSelect:this.handleSelectChoice,choice:o,opponentChoice:2===l&&d?d:null}))):null,t?s.a.createElement("button",{className:"saveBtn",onClick:this.playAgain},"Play again?"):null,s.a.createElement("div",null,s.a.createElement(S,{player:l,name:a,chatData:i,firebase:k.a}))),s.a.createElement("h3",null,"Version: ",j.version))}}]),a}(n.Component);var T=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[21,1,2]]]);
//# sourceMappingURL=main.3b32fcc2.chunk.js.map