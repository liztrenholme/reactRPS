(this.webpackJsonpreactrps=this.webpackJsonpreactrps||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/rock.84b42fe0.png"},function(e,a,t){e.exports=t.p+"static/media/paper.294861f4.png"},function(e,a,t){e.exports=t.p+"static/media/scissors.bff85220.png"},function(e){e.exports=JSON.parse('{"name":"reactrps","version":"1.0.2","private":true,"homepage":"https://liztrenholme.github.io/reactRPS","dependencies":{"@babel/core":"7.7.4","@svgr/webpack":"4.3.3","@typescript-eslint/eslint-plugin":"^2.8.0","@typescript-eslint/parser":"^2.8.0","babel-eslint":"10.0.3","babel-jest":"^24.9.0","babel-loader":"8.0.6","babel-plugin-named-asset-import":"^0.3.5","babel-preset-react-app":"^9.1.0","camelcase":"^5.3.1","case-sensitive-paths-webpack-plugin":"2.2.0","css-loader":"3.2.0","dotenv":"8.2.0","dotenv-expand":"5.1.0","eslint":"^6.6.0","eslint-config-react-app":"^5.1.0","eslint-loader":"3.0.2","eslint-plugin-flowtype":"3.13.0","eslint-plugin-import":"2.18.2","eslint-plugin-jsx-a11y":"6.2.3","eslint-plugin-react":"7.16.0","eslint-plugin-react-hooks":"^1.6.1","file-loader":"4.3.0","firebase":"^8.1.1","fs-extra":"^8.1.0","gh-pages":"^2.1.1","html-webpack-plugin":"4.0.0-beta.5","identity-obj-proxy":"3.0.0","jest":"24.9.0","jest-environment-jsdom-fourteen":"0.1.0","jest-resolve":"24.9.0","jest-watch-typeahead":"0.4.2","mini-css-extract-plugin":"0.8.0","optimize-css-assets-webpack-plugin":"5.0.3","pnp-webpack-plugin":"1.5.0","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"8.0.1","postcss-preset-env":"6.7.0","postcss-safe-parser":"4.0.1","react":"^16.11.0","react-app-polyfill":"^1.0.5","react-dev-utils":"^10.0.0","react-dom":"^16.11.0","react-scripts":"^4.0.0","resolve":"1.12.2","resolve-url-loader":"^3.1.2","sass-loader":"8.0.0","semver":"6.3.0","style-loader":"1.0.0","terser-webpack-plugin":"^4.1.0","ts-pnp":"1.1.5","url-loader":"2.3.0","webpack":"4.41.2","webpack-dev-server":"^3.11.0","webpack-manifest-plugin":"2.2.0","workbox-webpack-plugin":"4.3.1"},"scripts":{"start":"node scripts/start.js","build":"node scripts/build.js","test":"node scripts/test.js","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"chai":"^4.2.0","chai-spies":"^1.0.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.4","react-test-renderer":"^16.12.0"},"jest":{"roots":["<rootDir>/src"],"collectCoverageFrom":["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],"setupFiles":["react-app-polyfill/jsdom"],"setupFilesAfterEnv":[],"testMatch":["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],"testEnvironment":"jest-environment-jsdom-fourteen","transform":{"^.+\\\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},"transformIgnorePatterns":["[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$","^.+\\\\.module\\\\.(css|sass|scss)$"],"modulePaths":[],"moduleNameMapper":{"^react-native$":"react-native-web","^.+\\\\.module\\\\.(css|sass|scss)$":"identity-obj-proxy"},"moduleFileExtensions":["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],"watchPlugins":["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},"babel":{"presets":["react-app"]}}')},function(e,a,t){e.exports=t(39)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var s=t(2),n=t.n(s),r=t(16),l=t.n(r),c=(t(26),t(27),t(8)),o=t(9),i=t(11),p=t(10),m=(t(28),t(29),t(30),t(17)),u=t.n(m),d=function(e){var a=e.handleSelect,t=e.display,s=e.player,r=e.choice,l=e.small,c="rock";return t?n.a.createElement("div",null,n.a.createElement("img",{style:l?{height:"5em"}:{},src:u.a,alt:c,onClick:a?function(){return a(c)}:null,className:"player".concat(s," ").concat(r,"-").concat(s," rock-sketch")})):null},h=(t(31),t(18)),f=t.n(h),y=function(e){var a=e.handleSelect,t=e.display,s=e.player,r=e.choice,l=e.small,c="paper";return t?n.a.createElement("div",null,n.a.createElement("img",{style:l?{height:"5em"}:{},src:f.a,alt:c,onClick:a?function(){return a(c)}:null,className:"player".concat(s," ").concat(r,"-").concat(s," paper-sketch")})):null},b=(t(32),t(19)),v=t.n(b),g=function(e){var a=e.handleSelect,t=e.display,s=e.player,r=e.choice,l=e.small,c="scissors";return t?n.a.createElement("div",null,n.a.createElement("img",{style:l?{height:"5em"}:{},src:v.a,alt:c,onClick:a?function(){return a(c)}:null,className:"player".concat(s," ").concat(r,"-").concat(s," sketch")})):null},E=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props,a=e.player,t=e.isTurn,s=e.handleSelect,r=e.choice,l=e.winner,c=e.opponentChoice;return t?n.a.createElement("div",{className:"display",style:t?{border:"3px",borderColor:"blue",borderStyle:"solid"}:{}},n.a.createElement(d,{display:!l&&t||l&&"rock"===r||l&&"rock"===c,player:a,handleSelect:s,choice:r}),n.a.createElement(y,{display:!l&&t||l&&"paper"===r||l&&"paper"===c,player:a,handleSelect:s,choice:r}),n.a.createElement(g,{display:!l&&t||l&&"scissors"===r||l&&"scissors"===c,player:a,handleSelect:s,choice:r})):n.a.createElement("div",{className:"not-turn",style:{opacity:"0.5"}},n.a.createElement(d,{display:!0,player:a,choice:r}),n.a.createElement(y,{display:!0,player:a,choice:r}),n.a.createElement(g,{display:!0,player:a,choice:r}))}}]),t}(s.Component),w=(t(33),function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.handleTextChange;return n.a.createElement("div",{className:"input"},n.a.createElement("input",{value:a,onChange:t,placeholder:"Enter your name to play!"}))}}]),t}(s.Component)),k=t(20),j=t(6),x={apiKey:"AIzaSyCmK6VgVTtzZ5ZDPOkGssOJLgMrK1mAdjI",authDomain:"rock-paper-scissors-5c265.firebaseapp.com",databaseURL:"https://rock-paper-scissors-5c265.firebaseio.com",projectId:"rock-paper-scissors-5c265",storageBucket:"rock-paper-scissors-5c265.appspot.com",messagingSenderId:"146335845104"},S=(t(38),function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(c.a)(this,t);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={input:""},e.messagesEndRef=n.a.createRef(),e.scrollToBottom=function(){e.messagesEndRef.current.scrollTop=e.messagesEndRef.current.scrollHeight},e.database=e.props.firebase.database(),e.chat=e.database.ref("/chat"),e.chatDisc=e.database.ref("/chat/"+Date.now()),e.handleChatDisconnect=function(){e.chatDisc.onDisconnect().set({name:e.props.name,time:e.props.firebase.database.ServerValue.TIMESTAMP,message:"has disconnected.",idNum:e.props.player})},e.handleChatTextChange=function(a){return e.setState({input:a.target.value})},e.handleSendChat=function(){e.props.name&&e.state.input.length&&(e.chat.push({name:e.props.name,time:e.props.firebase.database.ServerValue.TIMESTAMP,message:e.state.input,idNum:e.props.player}),e.setState({input:""}))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this.props.chatData;return n.a.createElement("div",{className:"chat-box"},n.a.createElement("div",{className:"message-display-box",ref:this.messagesEndRef},e&&Object.keys(e)?Object.keys(e).sort((function(a){return e[a].time})).filter((function(a){return"has disconnected."!==e[a].message})).map((function(a){return 1===e[a].idNum?n.a.createElement("div",{className:"right-bubble",key:a},n.a.createElement("p",{className:"message-bubble message-bubble-right"},e[a].message)," ",n.a.createElement("span",null,e[a].name)):n.a.createElement("div",{className:"left-bubble",key:a},n.a.createElement("span",null,e[a].name)," ",n.a.createElement("p",{className:"message-bubble message-bubble-left"},e[a].message))})):null),this.props.name?n.a.createElement("input",{onChange:this.handleChatTextChange,value:this.state.input}):n.a.createElement("p",{style:{color:"darkred"}},"Enter your name above to start chatting."),this.props.name?n.a.createElement("button",{className:"saveBtn",onClick:this.handleSendChat},"Send"):null)}}]),t}(s.Component));window.config=x,window&&window.config&&j.a.initializeApp(window.config);var C=function(e){Object(i.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(c.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={name:"",player:null,error:"",showInstructions:!1,nameChosen:!1,choice:"",currentPlayerTurn:null,currentPlayers:0,chatData:{},playerOneExists:!1,playerTwoExists:!1,winner:null,opponentChoice:null,opponentName:"",wins:0,losses:0},e.getChatData=function(){j.a.database().ref("/chat").on("value",(function(a){var t=a.val();e.setState({chatData:t})}))},e.playAgain=function(){var a,t;j.a.database().ref("players").on("value",(function(s){var n=s.val();console.log("gameData in playAgain...",n),n&&n[1]&&n[1].name&&n[1].name===e.state.name?(a=1,t=2):(a=2,t=1),j.a.database().ref("/players/"+a).set({name:e.state.name,wins:e.state.wins,losses:e.state.losses,choice:""});var r=j.a.database().ref("/players/"+t);n&&n[t]&&r.set({name:e.state.opponentName,wins:n[t].wins,losses:n[t].losses,choice:""})})),e.setState({choice:"",opponentChoice:"",winner:null})},e.refresh=function(){window.refresh()},e.getGameData=function(){var a,t,s,n,r=j.a.database().ref("/game/players"),l=j.a.database().ref("turn");r.on("value",(function(s){a=s.child("1").exists(),t=s.child("2").exists(),e.setState({playerOneExists:a,playerTwoExists:t})})),l.on("value",(function(a){s=a.val(),e.setState({currentPlayerTurn:s})})),j.a.database().ref("players").on("value",(function(a){n=a.numChildren(),e.setState({currentPlayers:n})}))},e.gameStart=function(){var a,t,s=j.a.database().ref("turn"),n=j.a.database().ref("/chat/"+Date.now()),r=j.a.database().ref("players"),l=e.state,c=l.winner,o=l.opponentChoice,i=l.wins,p=l.losses,m=l.opponentName,u=e.state.name;if(r.on("value",(function(s){var n=s.val();if(console.log("what is coming back for gamedata??",n),a=s.child(1).exists(),t=s.child(2).exists(),n&&n[1]&&n[1].name&&n[2]&&n[2].name&&(m=n[1].name===u?n[2].name:n[1].name,e.setState({opponentName:m})),n&&n[1]&&n[1].choice&&n[2]&&n[2].choice){var r=n[1].choice,l=n[2].choice;"paper"===r&&"paper"===l&&(c="tie"),"rock"===r&&"rock"===l&&(c="tie"),"scissors"===r&&"scissors"===l&&(c="tie"),"paper"===r&&"rock"===l&&(c=n[1].name),"paper"===r&&"scissors"===l&&(c=n[2].name),"rock"===r&&"paper"===l&&(c=n[2].name),"rock"===r&&"scissors"===l&&(c=n[1].name),"scissors"===r&&"rock"===l&&(c=n[2].name),"scissors"===r&&"paper"===l&&(c=n[1].name),o=u===n[1].name?n[2].choice:n[1].choice,"tie"!==c&&(c===u?i++:p++)}e.setState({playerOneExists:a,playerTwoExists:t,winner:c,opponentChoice:o,wins:i,losses:p})})),e.state.currentPlayers<2){var d=e.state.player;a&&!c?(d=2,s.set(1),e.setState({currentTurn:1})):d=1;var h=j.a.database().ref("/players/"+d);h.set({name:e.state.name,wins:e.state.wins,losses:e.state.losses,choice:""}),h.onDisconnect().remove(),s.onDisconnect().remove(),n.onDisconnect().set({name:e.state.name,time:j.a.database.ServerValue.TIMESTAMP,message:"has disconnected.",idNum:0}),e.setState({player:d})}else e.setState({error:"Sorry, Game Full! Try Again Later!"})},e.handleShowMobileInstructions=function(){e.state.showInstructions?e.setState({showInstructions:!1}):e.setState({showInstructions:!0})},e.handleTextChange=function(a){var t=a.target.value;e.setState({name:t})},e.saveName=function(){e.setState({nameChosen:!0}),e.gameStart()},e.handleSelectChoice=function(a){e.setState({choice:a});var t=e.state,s=t.name,n=t.player,r=t.wins,l=t.losses;console.log("name, player, wins, losses",s,n,r,l);var c=j.a.database().ref("/players/"+n),o=j.a.database().ref("turn");c.set({name:s,wins:r,losses:l,choice:a}),1===e.state.currentPlayerTurn?o.set(2):o.set(1),1===e.state.currentPlayerTurn?e.setState({currentPlayerTurn:2}):e.setState({currentPlayerTurn:1})},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getChatData(),this.getGameData()}},{key:"render",value:function(){var e=this.state,a=e.winner,t=e.name,s=e.error,r=e.currentPlayerTurn,l=e.nameChosen,c=e.choice,o=e.player,i=e.chatData,p=e.playerOneExists,m=e.playerTwoExists,u=e.currentPlayers,h=e.opponentChoice,f=e.wins,b=e.losses,v=e.opponentName;return console.log("state:::",this.state),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"main-container"},n.a.createElement("h1",{className:"header"},"Rock, Paper, Scissors"),n.a.createElement("div",{className:"inputWithSave"},l&&o?n.a.createElement("h1",{className:"name-display"},"Hi ",t,", you are player ",o,"! ",u<2?"Waiting for player two to join...":null," "):n.a.createElement("div",{className:"inputWithSave"},n.a.createElement(w,{name:t,handleTextChange:this.handleTextChange}),t?n.a.createElement("button",{className:"saveBtn",onClick:this.saveName},"Add my name!"):null)),!a&&p&&m?n.a.createElement("div",null,r===o?n.a.createElement("h3",{style:{color:"darkblue"}},"Your turn!"):n.a.createElement("h3",{style:{color:"darkblue"}},"Waiting for ",v," to make their choice...")):null,n.a.createElement("div",{className:"stats-box"},n.a.createElement("h3",null,"Wins: ",f),n.a.createElement("h3",null,"Losses: ",b)),n.a.createElement("div",null,n.a.createElement("h3",{style:{color:"darkRed"}},s)),a?n.a.createElement("div",{className:"results-box"},n.a.createElement("h1",{style:{color:"darkRed"}},"The winner is ",a,"!"),n.a.createElement("div",{className:"results-display"},n.a.createElement("div",{className:"result"},n.a.createElement("span",null,t," chose:"),"rock"===c?n.a.createElement(d,{display:!0,small:!0}):"scissors"===c?n.a.createElement(g,{display:!0,small:!0}):"paper"===c?n.a.createElement(y,{display:!0,small:!0}):null),n.a.createElement("div",{className:"result"},n.a.createElement("span",null,v," chose:"),"rock"===h?n.a.createElement(d,{display:!0,small:!0}):"scissors"===h?n.a.createElement(g,{display:!0,small:!0}):"paper"===h?n.a.createElement(y,{display:!0,small:!0}):null))):null,!a&&p&&m?n.a.createElement("div",{className:"gameboard"},n.a.createElement("div",{className:"left-side"},n.a.createElement(E,{winner:a,player:1,isTurn:!a&&1===r&&1===o,handleSelect:this.handleSelectChoice,choice:c,opponentChoice:1===o&&h?h:null})),n.a.createElement("div",{className:"right-side"},n.a.createElement(E,{winner:a,player:2,isTurn:!a&&2===r&&2===o,handleSelect:this.handleSelectChoice,choice:c,opponentChoice:2===o&&h?h:null}))):null,a?n.a.createElement("button",{className:"saveBtn",onClick:this.refresh},"Play again?"):null,n.a.createElement("div",null,n.a.createElement(S,{player:o,name:t,chatData:i,firebase:j.a}))),n.a.createElement("h3",null,"Version: ",k.version))}}]),t}(s.Component);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[21,1,2]]]);
//# sourceMappingURL=main.e2a77db9.chunk.js.map